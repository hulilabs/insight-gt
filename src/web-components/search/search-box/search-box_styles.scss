/**
* SearchBox styles
*
* More details: zpl.io/ZjAu90
*
* wc-SearchBox: main wrapper
* wc-SearchBox__container: input wrapper
* wc-SearchBox__container--hidden: temp class added when hidding the input wrapper.
* wc-SearchBox__actionContainer: search action wrapper
* wc-SearchBox__removeContainer: remove/close action wrapper
* wc-SearchBox__input: textfield
* wc-SearchBox__placeholder: empty search placeholder
*/

@import "compass/css3/animation";
@import "compass/css3/appearance";
@import "compass/css3/transform";
@import "settings/_animations";
@import "settings/_breakpoints";
@import "settings/_components";
@import "settings/_elevations";
@import "tools/mixins/_responsive";
@import "tools/mixins/_typography";
@import "tools/mixins/_utilities";

$wc-search-box-height: 48px;
$wc-search-box-min-width: 48px;
$wc-search-box-input-padding: 0 72px 0 16px;
$wc-search-box-action-pos-right: 8px;
$wc-search-box-animation-half-width: $wc-search-box-min-width + $wc-search-box-action-pos-right;

//---------- #wc-SearchBox ---------- /
.wc-SearchBox {
    min-height: $wc-search-box-height;
    min-width: $wc-search-box-min-width;
    position: relative;

    //---------- #wc-SearchBox__container ---------- /
    &__container {
        @include component-elevation($wc-elevations-search-box);
        animation: growSearchBox $wc-search-box-grow-animation-duration linear 1 forwards;
        background-color: $wc-search-box-bg;
        border-radius: $wc-search-box-border-radius;
        display: inline-block;
        overflow: hidden;
        padding-top: $wc-search-text-padding-top;
    }

    //---------- #wc-SearchBox__actionContainer__hidden ---------- /
    &__container--hidden {
        animation: hideSearchBox $wc-search-box-grow-animation-duration linear 1 forwards;
    }

    //---------- #wc-SearchBox__actionContainer ---------- /
    //---------- #wc-SearchBox__removeContainer ---------- /
    &__actionContainer,
    &__removeContainer {
        position: absolute;
        right: $wc-search-box-action-pos-right;
        top: 0;
    }

    //---------- #wc-SearchBox__input ---------- /
    &__input {
        @include appearance('textfield');
        @include generate-text-styles("body1");
        background: none;
        border-radius: 0;
        border: none;
        box-sizing: border-box;
        color: inherit;
        outline: none;
        padding: $wc-search-box-input-padding;
        width: 100%;
        vertical-align: top;
    }

    //---------- #wc-SearchBox__placeholder ---------- /
    &__placeholder {
        @include generate-text-styles("body1");
        box-sizing: border-box;
        color: $wc-search-box-placeholder-color;
        left: 0;
        max-width: 100%;
        overflow: hidden;
        padding: $wc-search-box-input-padding;
        pointer-events: none;
        position: absolute;
        text-overflow: ellipsis;
        top: $wc-search-text-padding-top;
        white-space: nowrap;
    }

    //---------- #Desktop  ---------- //

    @include respond-min($wc-media-desktop-lower-boundary) {
        &__actionContainer,
        &__removeContainer {
            top: 4px;
        }
    }
}

// input grow animation
@include keyframes(growSearchBox) {
    0% {
        height: 0;
        position: absolute;
        right: $wc-search-box-min-width / 2;
        top: $wc-search-box-height / 2;
        width: 0;
    }
    50% {
        float: right;
        height: $wc-search-box-height;
        right: 0;
        top: 0;
        width: $wc-search-box-animation-half-width;
    }
    100% {
        float: right;
        height: $wc-search-box-height;
        width: 100%;
    }
}

@include keyframes(hideSearchBox) {
    0% {
        float: right;
        height: $wc-search-box-height;
        width: 100%;
    }
    50% {
        float: right;
        height: $wc-search-box-height;
        right: 0;
        top: 0;
        width: $wc-search-box-animation-half-width;
    }
    100% {
        height: 0;
        position: absolute;
        right: $wc-search-box-min-width / 2;
        top: $wc-search-box-height / 2;
        width: 0;
    }
}
